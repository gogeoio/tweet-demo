<div id="map-container" class="dashboard-map-container"></div>

<div id="tweet-popup" ng-show="map.tweetResult">
  <div class="marker-popup">
    <div class="marker-content">
      <img src="shared/images/active-tweet-marker.png" class="marker-view">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="map.hidePopup()">
        <span aria-hidden="true">&times;</span>
      </button>

      <img class="mc-weet-thumb" err-src="https://s3.amazonaws.com/deploy.gogeo/cdn/twitter-bird-logo.png" ng-src="{{ map.formatPictureUrl(map.tweetResult['user.profile_image_url']) }}" alt="" width="94" height="94" />

      <div class="mc-tweet-user">
        <div class="row">
          <div class="col-md-12">
            <p>{{ map.tweetResult['user.name'] }}</p>
            <a target="_blank" href="http://www.twitter.com/{{ map.tweetResult['user.screen_name'] }}">@{{ map.tweetResult["user.screen_name"] }}</a>
          </div>
        </div>
        <div style="padding-top: 15px; padding-right: 5px; font-size: 12px;">
          <div class="row">
            <div class="col-md-12">
              <!-- <label>Place</label> -->
              <span>
                <strong>
                  {{ map.tweetResult["place.full_name"] }}
                </strong>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <!-- <label>Favs</label> -->
              <span>
                <strong>
                  {{ map.formatDate(map.tweetResult["created_at"]) }}
                </strong>
              </span>
            </div>
          </div>
        </div>
      </div>

      <div class="mc-tweet-msg">
        <label>
          <a ng-href="{{ map.formatTweetUrl() }}" target="_blank">
            Message
          </a>
        </label>
        <p ng-bind-html="map.formatTweetText(map.tweetResult['text'])">
        </p>
      </div>
    </div>
  </div>
</div>

<div class="map-control">
  <div class="row">
    <ul class="list-inline item">
      <li id="cluster" ng-click="map.changeMapType($event)" class="{{ map.mapSelected == 'cluster' ? 'active' : 'inactive' }}">
        CLUSTER
      </li>
      <li id="point" ng-click="map.changeMapType($event)" class="{{ map.mapSelected == 'point' ? 'active' : 'inactive' }}">
        POINT
      </li>
      <li id="intensity" ng-click="map.changeMapType($event)" class="{{ map.mapSelected == 'intensity' ? 'active' : 'inactive' }}">
        INTENSITY
      </li>
      <li id="thematic" ng-click="map.changeMapType($event)" class="{{ map.mapSelected == 'thematic' ? 'active' : 'inactive' }}">
        THEMATIC
      </li>
    </ul>

    <ul class="list-inline draw-item" ng-show="false">
      <li class="draw {{ map.drawing ? 'active' : 'inactive' }}" ng-click="map.drawArea()">
      </li>
    </ul>
  </div>
</div>

<div class="thematic-legend" ng-show="map.mapSelected === 'thematic'" style="display: block; float: right; left: 10px; bottom: 10px; position: absolute; color: white; z-index: 10;">
  <ul class="list-inline">
    <li class="{{ id }} {{ map.layerGroup.hasLayer(layer) ? 'disabled' : '' }}" ng-repeat="(id, layer) in map.thematicMaps" ng-click="map.toggle(layer, id)">
      <strong>
        {{ id }}
      </strong>
    </li>
  </ul>
</div>